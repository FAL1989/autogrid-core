# ===========================================
# AutoGrid Environment Variables
# ===========================================
# Copy this file to .env and fill in the values
# NEVER commit .env to version control!

# Database
DATABASE_URL=postgresql://postgres:postgres@localhost:5432/autogrid

# Redis
REDIS_URL=redis://localhost:6379

# Security
# ENCRYPTION_KEY: Generate with: python -c "from cryptography.fernet import Fernet; print(Fernet.generate_key().decode())"
ENCRYPTION_KEY=your-fernet-key-here
JWT_SECRET=your-jwt-secret-here
JWT_ALGORITHM=HS256
JWT_EXPIRE_HOURS=24

# API
API_HOST=0.0.0.0
API_PORT=8000
API_DEBUG=true

# Exchange Credentials (optional for development)
# Use testnet keys for development!
BINANCE_API_KEY=
BINANCE_API_SECRET=
BINANCE_TESTNET=true

MEXC_API_KEY=
MEXC_API_SECRET=

BYBIT_API_KEY=
BYBIT_API_SECRET=
BYBIT_TESTNET=true

# Telegram Bot (optional)
TELEGRAM_BOT_TOKEN=
TELEGRAM_WEBHOOK_URL=
TELEGRAM_WEBHOOK_SECRET=
TELEGRAM_BOT_USERNAME=

# Celery
CELERY_BROKER_URL=redis://localhost:6379/0
CELERY_RESULT_BACKEND=redis://localhost:6379/0
CELERY_WORKER_CONCURRENCY=1
CELERY_WORKER_POOL=solo
CELERY_WORKER_PREFETCH_MULTIPLIER=1
CELERY_TASK_TIME_LIMIT=3600
CELERY_TASK_SOFT_TIME_LIMIT=3500
CELERY_TASK_ACKS_LATE=true
CELERY_TASK_REJECT_ON_WORKER_LOST=true

# Exchange timeouts
EXCHANGE_TIMEOUT_MS=10000
EXCHANGE_REST_TIMEOUT_SECONDS=10

# Bot execution timeouts
BOT_TICK_TIMEOUT_SECONDS=15
ORDER_SYNC_TIMEOUT_SECONDS=10

# Bot runtime
BOT_RUNTIME_MODE=celery
ENGINE_TICK_INTERVAL_SECONDS=1
ENGINE_SUPERVISOR_INTERVAL_SECONDS=5

# API rate limiting
RATE_LIMIT_REQUESTS=5
RATE_LIMIT_WINDOW=60

# Circuit Breaker (Safety Limits)
CIRCUIT_BREAKER_ORDERS_LIMIT=50
CIRCUIT_BREAKER_MAX_LOSS_PERCENT=5.0
CIRCUIT_BREAKER_PRICE_DEVIATION=10.0
CIRCUIT_BREAKER_COOLDOWN=300
CIRCUIT_BREAKER_ORDER_RATE_WINDOW_SECONDS=60
CIRCUIT_BREAKER_LOSS_WINDOW_SECONDS=3600
CIRCUIT_BREAKER_HALF_OPEN_ORDERS=3

# Logging
LOG_LEVEL=INFO
